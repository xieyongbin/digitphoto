<!DOCTYPE html>
<!-- saved from url=(0066)https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园</title>
<link type="text/css" rel="stylesheet" href="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bundle-GreenGrassBlueSky.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bundle-GreenGrassBlueSky-mobile.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/Matrix_Yao/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/Matrix_Yao/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/Matrix_Yao/wlwmanifest.xml">
<script async="" src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/analytics.js.下载"></script><script type="text/javascript" src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/encoder.js.下载"></script><script src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/jquery.js.下载" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'Matrix_Yao', cb_enable_mathjax=false;var isLogined=false;</script>
<script src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/blog-common.js.下载" type="text/javascript"></script>
<script charset="utf-8" src="chrome-extension://jgphnjokjhjlcnnajmfjlacjnjkhleah/js/btype.js"></script></head>
<body style="background-color: rgb(204, 232, 207);">
<a name="top"></a>

<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/Matrix_Yao/">足迹</a></h1>
<p id="tagline">能看不尽景，始是不凡人</p>
<div id="rigthtag">&nbsp;</div>
<div id="main" style="background-color: rgb(204, 232, 207);">
	
<div id="post_detail">
	<div class="post">
		<h2>
			<a id="cb_post_title_url" href="http://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html">BMP文件格式详解（BMP file format）</a>
		</h2>
		<div id="cnblogs_post_body" class="blogpost-body"><p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.85pt; text-align: left; mso-char-indent-count: .94;" align="left"><span style="mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">BMP</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;;">文件格式，又称为</span><span style="mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">Bitmap</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">（</span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;;">位图）或是</span><span style="mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">DIB(Device-Independent Device</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;;">，设备无关位图</span><span style="mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">)</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;;">，是</span><span style="mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">Windows</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;;">系统中广泛使用的图像文件格式。由于它可以不作任何变换地保存图像像素域的数据，因此成为我们取得</span><span style="mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">RAW</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;;">数据的重要来源。</span><span style="mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">Windows</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;;">的</span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">图形用户界面（</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">graphical user interfaces</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">）也在它的内建图像子系统</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">GDI</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">中对</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">BMP</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">格式提供了支持。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.85pt; text-align: left; mso-char-indent-count: .94;" align="left"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">下面以</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">Notepad++</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">为分析工具，结合</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">Windows</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">的位图数据结构对</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">BMP</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">文件格式进行一个深度的剖析。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.85pt; text-align: left; mso-char-indent-count: .94;" align="left"><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">BMP</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">文件的数据按照从文件头开始的先后顺序分为四个部分：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.85pt; text-indent: -21pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 30.85pt; mso-list: l0 level1 lfo1;" align="left"><span style="font-family: Wingdings; mso-bidi-font-size: 10.5pt; mso-ansi-language: EN; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN"><span style="mso-list: Ignore;">Ø<span style="font: 7pt &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">bmp</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">文件头</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(bmp file header)</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span></strong><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">提供文件的格式、大小等信息</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.85pt; text-indent: -21pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 30.85pt; mso-list: l0 level1 lfo1;" align="left"><span style="font-family: Wingdings; mso-bidi-font-size: 10.5pt; mso-ansi-language: EN; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN"><span style="mso-list: Ignore;">Ø<span style="font: 7pt &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位图信息头</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(bitmap information)</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span></strong><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">提供图像数据的尺寸、位平面数、压缩方式、颜色</span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">索引等信息</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.85pt; text-indent: -21pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 30.85pt; mso-list: l0 level1 lfo1;" align="left"><span style="font-family: Wingdings; mso-bidi-font-size: 10.5pt; mso-ansi-language: EN; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN"><span style="mso-list: Ignore;">Ø<span style="font: 7pt &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">调色板</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(color palette)</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span></strong><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">可选，如使用索引来表示图像，调色板就是索引与其对应的颜色的映射表</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.85pt; text-indent: -21pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 30.85pt; mso-list: l0 level1 lfo1;" align="left"><span style="font-family: Wingdings; mso-bidi-font-size: 10.5pt; mso-ansi-language: EN; mso-fareast-font-family: Wingdings; mso-bidi-font-family: Wingdings;" lang="EN"><span style="mso-list: Ignore;">Ø<span style="font: 7pt &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位图数据</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(bitmap data)</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span></strong><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">就是图像数据啦</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">^_^</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.85pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">下面结合</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">Windows</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">结构体的定义，通过一个表来分析这四个部分。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.85pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_3.png" alt="" width="531" height="112" border="0"></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.85pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.85pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">我们一般见到的图像以</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">24</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">位图像为主，即</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">R</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">、</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">G</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">、</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">B</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">三种颜色各用</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">8</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">个</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">bit</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">来表示，这样的图像我们称为真彩色，这种情况下是不需要调色板的，也就是所位图信息头后面紧跟的就是位图数据了。因此，我们常常见到有这样一种说法：<strong style="mso-bidi-font-weight: normal;">位图文件从文件头开始偏移</strong></span><strong style="mso-bidi-font-weight: normal;"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">54</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">个字节就是位图数据了，这其实说的是</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">24</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">或</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">32</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">位图的情况。这也就解释了我们按照这种程序写出来的程序为什么对某些位图文件没用了。</span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.85pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: &#39;Times New Roman&#39;;"><strong style="mso-bidi-font-weight: normal;"><span lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;</span></span></strong><span lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;</span></span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">下面针对一幅特定的图像进行分析，来看看在位图文件中这四个数据段的排布以及组成。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.85pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><span lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">我们使用的图像显示如下：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.85pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_4.PNG" alt="" width="256" height="256" border="0"></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.85pt; text-indent: 89.25pt; text-align: left; mso-char-indent-count: 8.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .94gd;" align="left">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">这是一幅</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">16</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">位的位图文件，因此它是含有调色板的。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">在拉出图像数据进行分析之前，我们首先进行几个约定：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span>1. </span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">在</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">BMP</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">文件中，如果一个数据需要用几个字节来表示的话，那么该数据的存放字节顺序为“低地址存放低位数据，高地址存放高位数据”。如数据</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">0x1756</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">在内存中的存储顺序为：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 82.95pt; text-align: left; mso-char-indent-count: 7.9;" align="left"><span lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_5.png" alt="" width="207" height="100" border="0">&nbsp;&nbsp; </span></span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">这种存储方式称为小端方式</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">(little endian) , </span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">与之相反的是大端方式（</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">big endian</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">）。对两者的使用情况有兴趣的可以深究一下，其中还是有学问的。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 15.2pt; text-indent: -5.25pt; text-align: left; mso-char-indent-count: -.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">2. <span style="mso-spacerun: yes;">&nbsp;</span></span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">以下所有分析均以字节为序号单位进行。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">下面我们对从文件中拉出来的数据进行剖析：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp; <img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_1.png" alt="" width="766" height="123" border="0"></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.95pt; text-indent: -21pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 30.95pt; mso-list: l1 level1 lfo2;" align="left"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-bidi-font-size: 10.5pt; mso-bidi-font-family: 宋体;" lang="EN-US"><span style="mso-list: Ignore;">一、</span></span><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN">bmp</span></strong></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">文件头</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><br></span></strong><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">Windows</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">为</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">bmp</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">文件头定义了如下结构体：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 62pt; text-align: left; mso-char-indent-count: 5.88; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp; </span></span></span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 21pt; text-indent: 0cm; mso-char-indent-count: 0;">&nbsp;</p>
<div class="cnblogs_code" style="background-color: rgb(204, 232, 207);"><div class="cnblogs_code_toolbar" style="background-color: rgb(204, 232, 207);"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码" style="background-color: rgb(204, 232, 207);"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/copycode.gif" alt="复制代码" style="background-color: rgb(204, 232, 207);"></a></span></div>
<div style="background-color: rgb(204, 232, 207);"><!--<br/ /><br/ />Code highlighting produced by Actipro CodeHighlighter (freeware)<br/ />http://www.CodeHighlighter.com/<br/ /><br/ />--><span style="color: #000000;">typedef&nbsp;</span><span style="color: #0000ff;">struct</span><span style="color: #000000;">&nbsp;tagBITMAPFILEHEADER&nbsp;<br>{&nbsp;&nbsp;<br>UINT16&nbsp;bfType;&nbsp;&nbsp;&nbsp;&nbsp;<br>DWORD&nbsp;bfSize;&nbsp;<br>UINT16&nbsp;bfReserved1;&nbsp;<br>UINT16&nbsp;bfReserved2;&nbsp;<br>DWORD&nbsp;bfOffBits;<br>}&nbsp;BITMAPFILEHEADER;&nbsp;<br></span></div>
<div class="cnblogs_code_toolbar" style="background-color: rgb(204, 232, 207);"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码" style="background-color: rgb(204, 232, 207);"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/copycode.gif" alt="复制代码" style="background-color: rgb(204, 232, 207);"></a></span></div></div>
<p>&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 21pt; text-indent: 0cm; mso-char-indent-count: 0;">其中：</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 21pt; text-indent: 0cm; mso-char-indent-count: 0;"><span lang="EN-US">&nbsp;&nbsp; <img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_6.png" alt="" width="557" height="272" border="0"></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 15.2pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: 1.45gd;" align="left">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 15.2pt; text-indent: -5.25pt; text-align: left; mso-char-indent-count: -.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><span style="mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;</span></span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">对照文件数据我们看到：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 15.2pt; text-indent: -5.25pt; text-align: left; mso-char-indent-count: -.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><span style="mso-bidi-font-size: 10.5pt;" lang="EN-US"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_1.png" alt="" width="766" height="123" border="0"></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 15.2pt; text-indent: -5.25pt; text-align: left; mso-char-indent-count: -.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 46.7pt; text-indent: -36.75pt; text-align: left; mso-char-indent-count: -3.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">1-2<span style="mso-spacerun: yes;">&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">：</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">424dh = 'BM',</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">表示这是</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">Windows</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">支持的位图格式。有很多声称开头两个字节必须为</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">'BM'</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">才是位图文件，从上表来看应为开头两个字节必须为</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">'BM'</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">才是</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">Windows</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">位图文件。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 36.2pt; text-indent: -26.25pt; text-align: left; mso-char-indent-count: -2.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">3-5<span style="mso-spacerun: yes;">&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">：</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">00010436h = 66614 B = 65.05 kB</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">，通过查询文件属性发现一致。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 36.2pt; text-indent: -26.25pt; text-align: left; mso-char-indent-count: -2.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">6-9<span style="mso-spacerun: yes;">&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">：这是两个保留段，为</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">0</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 36.2pt; text-indent: -26.25pt; text-align: left; mso-char-indent-count: -2.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">A-D</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">：</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">00000436h = 1078</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">。即从文件头到位图数据需偏移</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">1078</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">字节。我们稍后将验证这个数据。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 36.2pt; text-indent: -26.25pt; text-align: left; mso-char-indent-count: -2.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">共有</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">14</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">个字节。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.95pt; text-indent: -21pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 30.95pt; mso-list: l1 level1 lfo2;" align="left"><span style="mso-bidi-font-family: 宋体;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: &#39;Times New Roman&#39;;">二、</span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位图信息头</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><br></span></strong><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">同样地，</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">Windows</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">为位图信息头定义了如下结构体：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.95pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.95pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;</span></span></strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;53c6494a-cf5e-4cdd-8591-d48f56fa162d&#39;)" style="background-color: rgb(204, 232, 207);"><img id="code_img_closed_53c6494a-cf5e-4cdd-8591-d48f56fa162d" class="code_img_closed" src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/ContractedBlock.gif" alt=""><img id="code_img_opened_53c6494a-cf5e-4cdd-8591-d48f56fa162d" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide(&#39;53c6494a-cf5e-4cdd-8591-d48f56fa162d&#39;,event)" src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/ExpandedBlockStart.gif" alt=""><span class="cnblogs_code_collapse" style="background-color: rgb(204, 232, 207);">代码</span>
<div id="cnblogs_code_open_53c6494a-cf5e-4cdd-8591-d48f56fa162d" class="cnblogs_code_hide" style="background-color: rgb(204, 232, 207);">
<div style="background-color: rgb(204, 232, 207);"><!--<br/ /><br/ />Code highlighting produced by Actipro CodeHighlighter (freeware)<br/ />http://www.CodeHighlighter.com/<br/ /><br/ />--><span style="color: #000000;">typedef&nbsp;</span><span style="color: #0000ff;">struct</span><span style="color: #000000;">&nbsp;tagBITMAPINFOHEADER<br>&nbsp;{<br>DWORD&nbsp;biSize;&nbsp;<br>LONG&nbsp;biWidth;&nbsp;<br>LONG&nbsp;biHeight;&nbsp;<br>WORD&nbsp;biPlanes;&nbsp;<br>WORD&nbsp;biBitCount;&nbsp;<br>DWORD&nbsp;biCompression;&nbsp;<br>DWORD&nbsp;biSizeImage;&nbsp;<br>LONG&nbsp;biXPelsPerMeter;&nbsp;<br>LONG&nbsp;biYPelsPerMeter;&nbsp;<br>DWORD&nbsp;biClrUsed;&nbsp;<br>DWORD&nbsp;biClrImportant;<br>}&nbsp;BITMAPINFOHEADER;<br></span></div>
</div>
<strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;</span></span></strong></div>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_7.png" alt="" width="569" height="483" border="0">&nbsp;</span></span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">对照数据</span></span></strong><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">文件：</span><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-spacerun: yes;">&nbsp; </span></span></span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_1.png" alt="" width="766" height="123" border="0"></span></span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 0cm; mso-char-indent-count: 0;">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 36.75pt; text-indent: -36.75pt; mso-char-indent-count: -3.5;"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">0E-11</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">：</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">00000028h = 40,</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">这就是说我这个位图信息头的大小为</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">40</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">个字节。前面我们已经说过位图信息头一般有</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">40</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">个字节，既然是这样，为什么这里还要给一个字段来说明呢？这里涉及到一些历史</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">,</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">其实位图信息头原本有很多大小的版本的。我们看一下下表：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 36.75pt; text-indent: -36.75pt; mso-char-indent-count: -3.5;">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 36.75pt; text-indent: -36.75pt; mso-char-indent-count: -3.5;"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_8.png" alt="" width="609" height="121" border="0">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 36.75pt; text-indent: -36.75pt; mso-char-indent-count: -3.5;"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp; &nbsp; 出</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">于兼容性的考虑，大多数应用使用了旧版的位图信息头来保存文件。而</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;"> OS/2 </span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">已经过时了</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">,</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">因此现在最常用的格式就仅有</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">V3 header</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">了。因此，我们在前面说位图信息头的大小为</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">40</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">字节。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; mso-char-indent-count: .95;"><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">12-15</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00000100h = 256</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，图像宽为</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">255</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">像素，与文件属性一致。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 41.35pt; text-indent: -31.5pt; mso-char-indent-count: -3.0; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .94gd;"><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">16-19</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00000100h = 256</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，图像高为</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">255</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">像素，与文件属性一致。这是一个正数，说明图像数据是从图像左下角到右上角排列的。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; mso-char-indent-count: .95;"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-ansi-language: EN;" lang="EN">1A</span><span style="mso-ansi-language: EN;" lang="EN">-1B</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">0001h, </span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">该值总为</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">1</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; mso-char-indent-count: .95;"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-ansi-language: EN;" lang="EN">1C</span><span style="mso-ansi-language: EN;" lang="EN">-1D</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">0008h = 8, </span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">表示每个像素占</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">8</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">个比特，即该图像共有</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">256</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">种颜色。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; mso-char-indent-count: .95;"><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">1E-21</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00000000h</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">BI_RGB</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">说明本图像不压缩。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; mso-char-indent-count: .95;"><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">22-25</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00000000h</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，图像的大小，因为使用</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">BI_RGB</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，所以设置为</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">0</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; mso-char-indent-count: .95;"><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">26-29</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00000000h</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，水平分辨率，缺省。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; mso-char-indent-count: .95;"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-ansi-language: EN;" lang="EN">2A</span><span style="mso-ansi-language: EN;" lang="EN">-2D</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00000000h</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，垂直分辨率，缺省。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 46.6pt; text-indent: -36.75pt; mso-char-indent-count: -3.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .94gd;"><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">2E-31</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00000100h = 256,</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">说明本位图实际使用的颜色索引数为</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">256</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，与</span><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-ansi-language: EN;" lang="EN">1C</span><span style="mso-ansi-language: EN;" lang="EN">-ID</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">得到的结论一致。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 46.6pt; text-indent: -36.75pt; mso-char-indent-count: -3.5; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .94gd;"><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">32-35</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">：</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00000100h = 256,</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">说明本位图重要的颜色索引数为</span><span style="mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">256</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，与前面得到的结论一致。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 0cm; mso-char-indent-count: 0;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.95pt; text-indent: -21pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 30.95pt; mso-list: l1 level1 lfo2;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-bidi-font-family: 宋体;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: &#39;Times New Roman&#39;;">三、</span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">调色板</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><br></span></strong><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">下面的数据就是调色板了。前面也已经提过，调色板其实是一张映射表，标识颜色索引号与其代表的颜色的对应关系。它在文件中的布局就像一个二维数组</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">palette[N][4],</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">其中</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">N</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">表示总的颜色索引数，每行的四个元素分别表示该索引对应的</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">B</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">、</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">G</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">、</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">R</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">和</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">Alpha</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">的值，每个分量占一个字节。如不设透明通道时，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">Alpha</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">为</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">0</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">。因为前面知道，本图有</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">256</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">个颜色索引，因此</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">N = 256</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">。索引号就是所在行的行号，对应的颜色就是所在行的四个元素。这里截取一些数据来说明：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.95pt; text-indent: -21pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 30.95pt; mso-list: l1 level1 lfo2;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: left; mso-char-indent-count: 0;" align="left">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: center; mso-char-indent-count: 0;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_1.png" alt="" width="766" height="123" border="0">&nbsp; </span></span></span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: center; mso-char-indent-count: 0;" align="center"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">索引：</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(</span></span></strong><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">蓝，绿，红，</span></strong><strong style="mso-bidi-font-weight: normal;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">Alpha)</span></span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: center; mso-char-indent-count: 0;" align="center"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">0</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">号：</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(fe</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">fa</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">fd</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00)</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: center; mso-char-indent-count: 0;" align="center"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">1</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">号：</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(fd</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">f3</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">fc</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00)</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: center; mso-char-indent-count: 0;" align="center"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">2</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">号：</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(f4</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">f3</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">fc</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00)</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: center; mso-char-indent-count: 0;" align="center"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">3</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">号：</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(fc</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">f2</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">f4</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00)</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 0cm; text-align: center; mso-char-indent-count: 0;" align="center"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">4</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">号：</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(f6</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">f2</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">f2</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00)</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 161.7pt; mso-char-indent-count: 15.4;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">号：</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">(fb</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">f9</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">f6</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">00) </span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">等等。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; mso-char-indent-count: .95;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;</span></span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">一共有</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">256</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">种颜色，每个颜色占用</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">4</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">个字节，就是一共</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">1024</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">个字节，再加上前面的文件信息头和位图信息头的</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">54</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">个字节加起来一共是</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">1078</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">个字节。也就是说在位图数据出现之前一共有</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">1078</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">个字节，与我们在文件信息头得到的信息：文件头到文图数据区的偏移为</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">1078</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">个字节一致！</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 30.95pt; text-indent: -21pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 30.95pt; mso-list: l1 level1 lfo2;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-bidi-font-family: 宋体;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: &#39;Times New Roman&#39;;">四、</span></span></span><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位图数据</span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">下面就是位图数据了，每个像素占一个字节，取得这个字节后，以该字节为索引查询相应的颜色，并显示到相应的显示设备上就可以了。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">注意：由于位图信息头中的图像高度是正数，所以位图数据在文件中的排列顺序是从左下角到右上角，以行为主序排列的。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left">&nbsp;</p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_2.png" alt="" width="765" height="209" border="0"></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">也即我们见到的第一个像素</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">60</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">是图像最左下角的数据，第二个人像素</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">60</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">为图像最后一行第二列的数据，…一直到最后一行的最后一列数据，后面紧接的是倒数第二行的第一列的数据，依此类推。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp;</span></span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">如果图像是</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">24</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位或是</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">32</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位数据的位图的话，位图数据区就不是索引而是实际的像素值了。下面说明一下，此时位图数据区的每个像素的</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">RGB</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">颜色阵列排布：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">24</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">RGB</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">按照</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">BGR</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">的顺序来存储每个像素的各颜色通道的值，一个像素的所有颜色分量值都存完后才存下一个下一个像素，不进行交织存储。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">32</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位数据按照</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">BGRA</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">的顺序存储，其余与</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">24</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位位图的方式一样。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">像素的排布规则与前述一致。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">对齐规则</span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">讲完了像素的排列规则以及各像素的颜色分量的排列规则，最后我们谈谈数据的对齐规则。我们知道</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">Windows</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">默认的扫描的最小单位是</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">4</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">字节，如果数据对齐满足这个值的话对于数据的获取速度等都是有很大的增益的。因此，</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">BMP</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">图像顺应了这个要求，要求每行的数据的长度必须是</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">4</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">的倍数，如果不够需要进行比特填充（以</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">0</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">填充），这样可以达到按行的快速存取。这时，位图数据区的大小就未必是</span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">图片宽×每像素字节数×图片高</span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">能表示的了，因为每行可能还需要进行比特填充。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">填充后的每行的字节数为：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-spacerun: yes;">&nbsp;</span><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span></span><span lang="EN-US"><span style="position: relative; top: 14pt; mso-text-raise: -14.0pt;">&nbsp; </span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/bmp_9.png" alt="" width="195" height="45" border="0">，其中</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">BPP</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">（</span><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">Bits Per Pixel</span></span><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">）为每像素的比特数。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;;">在程序中，我们可以表示为：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 21.1pt;"><strong style="mso-bidi-font-weight: normal;"><span lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;">int iLineByteCnt = (((m_iImageWidth * m_iBitsPerPixel) + 31) &gt;&gt; 5) &lt;&lt; 2;</span></span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">这样，位图数据区的大小为：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="mso-spacerun: yes;">&nbsp;</span><strong style="mso-bidi-font-weight: normal;"><span style="mso-spacerun: yes;">&nbsp;</span></strong></span><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt; color: black; mso-font-kerning: 0pt;" lang="EN-US">m_iImageDataSize = iLineByteCnt * m_iImageHeight;</span></strong></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">我们在扫描完一行数据后，也可能接下来的数据并不是下一行的数据，可能需要跳过一段填充数据：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="font-size: 12pt; color: black; mso-font-kerning: 0pt;" lang="EN-US"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-spacerun: yes;">&nbsp; </span>skip = 4 - ((m_iImageWidth * m_iBitsPerPixel)&gt;&gt;3) &amp; 3;</span></span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">五、拾遗</span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">至此，我们通过分析一个具体的位图文件例子详细地剖析了位图文件的组成。需要注意的是：我们讲的主要是</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">PC</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">机上的位图文件的构成，对于嵌入式平台，可能在调色板数据段与</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">PC</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">机的不同。如在嵌入式平台上常见的</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">16</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">r5g6b5</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">位图实际上采用的掩模的方式而不是索引的方式来表示图像。此时，在调色板数据段共有四个部分，每个部分为四个字节，实际表示的是彩色版规范。即：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp; </span></span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">第一个部分是红色分量的掩模</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="mso-spacerun: yes;"><span style="font-family: &#39;Times New Roman&#39;;">&nbsp; </span></span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">第二个部分是绿色分量的掩模</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">&nbsp;</span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">第三个部分是蓝色分量的掩模</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">&nbsp;</span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">第四个部分是</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">Alpha</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">分量的掩模（缺省为</span><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;">0</span></span><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">）</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">典型的调色板规范在文件中的顺序为为：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-spacerun: yes;">&nbsp; </span>00F8 0000 E007 0000 1F00 0000 0000 0000</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">其中</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="mso-bidi-font-size: 10.5pt; mso-ansi-language: EN;" lang="EN"><span style="font-family: &#39;Times New Roman&#39;;"><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span><span style="mso-spacerun: yes;">&nbsp;</span></span></span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">00F</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">8&nbsp;0000</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">为</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">FB00h=1111100000000000</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">（二进制），是蓝红分量的掩码。</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"> <br></span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">　　</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">E007&nbsp;0000</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">为</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">&nbsp;07E0h=0000011111100000</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">（二进制），是绿色分量的掩码。</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"> <br></span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">　</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;"> <span style="mso-spacerun: yes;">&nbsp;</span><span lang="EN-US">1F</span><span lang="EN-US">00&nbsp;0000</span></span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">为</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">001Fh=0000000000011111</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">（二进制），是蓝色分量的掩码。</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"> <br></span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">　</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span>0000&nbsp;0000</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">设置为</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">0</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.75pt; text-align: left; mso-char-indent-count: .93;" align="left"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">将掩码跟像素值进行</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">“</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">与</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">”</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">运算再进行移位操作就可以得到各色分量值。看看掩码，就可以明白事实上在每个像素值的两个字节</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">16</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">位中，按从高到低取</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">5</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">、</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">6</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">、</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">5</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">位分别就是</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">r</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">、</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">g</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">、</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">b</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">分量值。取出分量值后把</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">r</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">、</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">g</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">、</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">b</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">值分别乘以</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">8</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">、</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">4</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">、</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">8</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">就可以补齐每个分量为一个字节，再把这三个字节按</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">BGR</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">组合，放入存储器，就可以转换为</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">24</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">位标准</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">BMP</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">格式了。</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">这样我们假设在位图数据区有一个像素的数据在文件中表示为</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">02 F</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">1</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">。这个数据实际上应为</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">F102</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">：</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;</span>r = (F102 AND F800) &gt;&gt; 8 = F0h = 240</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;</span>g= (F102&nbsp;AND&nbsp;07E0</span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">）</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">&gt;&gt; 3 = 20h = 32 <br></span><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">　</span><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;"> <span lang="EN-US">b=(F102&nbsp;AND&nbsp;001F) &lt;&lt; 3 =&nbsp;10h =16</span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-indent: 9.95pt; text-align: left; mso-char-indent-count: .95;" align="left"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">至此我们就可以显示了。（本文结束）</span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt; text-align: left; mso-char-indent-count: 0;" align="left"><strong style="mso-bidi-font-weight: normal;"><span style="font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: &#39;Times New Roman&#39;; mso-hansi-font-family: &#39;Times New Roman&#39;; mso-ansi-language: EN;">参考资源：</span></strong></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 27.95pt; text-indent: -18pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 27.95pt; mso-list: l2 level1 lfo3;" align="left"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: Arial;" lang="EN-US"><span style="mso-list: Ignore;">1.<span style="font: 7pt &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">wiki</span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">百科</span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"> bmp file format</span></em><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 9.95pt; text-indent: 21pt; text-align: left; mso-para-margin-top: 6.0pt; mso-para-margin-right: 0cm; mso-para-margin-bottom: 3.6pt; mso-para-margin-left: .95gd;" align="left"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"><a href="http://en.wikipedia.org/wiki/BMP_file_format" target="_blank">http://en.wikipedia.org/wiki/BMP_file_format</a></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 27.95pt; text-indent: -18pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 27.95pt; mso-list: l2 level1 lfo3;" align="left"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: Arial;" lang="EN-US"><span style="mso-list: Ignore;">2.<span style="font: 7pt &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">gwwgle</span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">的专栏</span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;"> <span lang="EN-US">BMP</span></span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">格式详解</span></em><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;"> <span lang="EN-US"><a href="http://blog.csdn.net/gwwgle/archive/2009/11/06/4775396.aspx" target="_blank">http://blog.csdn.net/gwwgle/archive/2009/11/06/4775396.aspx</a></span></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 27.95pt; text-indent: -18pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 27.95pt; mso-list: l2 level1 lfo3;" align="left"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: Arial;" lang="EN-US"><span style="mso-list: Ignore;">3.<span style="font: 7pt &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">匿名</span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"> BMP</span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">格式图像文件详析</span></em><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"><a href="http://www.thethirdmedia.com/pc/200407/20040722117029.shtm" target="_blank">http://www.thethirdmedia.com/pc/200407/20040722117029.shtm</a></span></p>
<p class="MsoNormal" style="margin: 6pt 0cm 3.6pt 27.95pt; text-indent: -18pt; text-align: left; mso-char-indent-count: 0; tab-stops: list 27.95pt; mso-list: l2 level1 lfo3;" align="left"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: Arial;" lang="EN-US"><span style="mso-list: Ignore;">4.<span style="font: 7pt &#39;Times New Roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">Singler</span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">的专栏位图文件（</span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US">BMP</span></em><em style="mso-bidi-font-style: normal;"><span style="color: black; font-family: 宋体; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial; mso-bidi-font-family: Arial;">）格式分析以及程序实现</span></em><span style="color: black; font-family: Arial; mso-bidi-font-size: 10.5pt;" lang="EN-US"><a href="http://blog.csdn.net/yyfzy/archive/2006/06/10/785945.aspx" target="_blank">http://blog.csdn.net/yyfzy/archive/2006/06/10/785945.aspx</a></span></p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(1615295,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
            <a id="green_channel_follow" onclick="follow(&#39;e0ed16b0-1cf5-dd11-9e4d-001cf0cd104b&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/Matrix_Yao/" target="_blank"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/sample_face.gif" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/Matrix_Yao/">姚伟峰</a><br>
            <a href="http://home.cnblogs.com/u/Matrix_Yao/followees">关注 - 1</a><br>
            <a href="http://home.cnblogs.com/u/Matrix_Yao/followers">粉丝 - 16</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow(&#39;e0ed16b0-1cf5-dd11-9e4d-001cf0cd104b&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(1615295,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">1</span>
    </div>
    <div class="buryit" onclick="votePost(1615295,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
</div>
<div class="clear"></div>
<div id="post_next_prev"><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/10/07/1578696.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/10/07/1578696.html" title="发布于2009-10-07 11:14">寻找模式之旅（1）_字符串匹配 之 确定性方法</a><br><a href="http://www.cnblogs.com/Matrix_Yao/archive/2010/08/29/1811875.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/Matrix_Yao/archive/2010/08/29/1811875.html" title="发布于2010-08-29 14:52">How to build embedded developing environment (PC side)</a><br></div>
</div>


		<p class="postfoot">
			posted on <span id="post-date">2009-12-02 14:01</span> <a href="http://www.cnblogs.com/Matrix_Yao/">姚伟峰</a> 阅读(<span id="post_view_count">16710</span>) 评论(<span id="post_comment_count">10</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=1615295" rel="nofollow">编辑</a> <a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#" onclick="AddToWz(1615295);return false;">收藏</a>
		</p>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=50009,cb_entryId=1615295,cb_blogApp=currentBlogApp,cb_blogUserGuid='e0ed16b0-1cf5-dd11-9e4d-001cf0cd104b',cb_entryCreatedDate='2009/12/2 14:01:00';loadViewCount(cb_entryId);var cb_postType=1;</script>
	
	</div><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<a name="评论"></a>
<div id="comments">
<h3>评论</h3>
	
	
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1712953" class="layer">#1楼</a><a name="1712953" id="comment_anchor_1712953"></a>
					<span>
						 <span class="comment_date">2009-12-02 15:27</span>
					</span>
				<a id="a_comment_author_1712953" href="http://www.cnblogs.com/vieri122/" target="_blank">vieri122</a> <a href="http://msg.cnblogs.com/send/vieri122" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_1712953" class="blog_comment_body">不错的翻译<br>要是能把JPEG png等都列出来就完美了</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1712953,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1712953,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1712953_avatar" style="display:none;">http://pic.cnblogs.com/face/u47059.jpg</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1713016" class="layer">#2楼</a><a name="1713016" id="comment_anchor_1713016"></a>[<span class="louzhu">楼主</span>]
					<span>
						 <span class="comment_date">2009-12-02 16:20</span>
					</span>
				<a id="a_comment_author_1713016" href="http://www.cnblogs.com/Matrix_Yao/" target="_blank">姚伟峰</a> <a href="http://msg.cnblogs.com/send/%E5%A7%9A%E4%BC%9F%E5%B3%B0" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_1713016" class="blog_comment_body"><a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1712953" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,1712953);">@</a>
vieri122<br>呵呵，谢谢。<br>文章是对资源的综述并加上了自己的体会，并不是翻译稿^-^，其他图像或视频格式我想慢慢会补上的，谢谢。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1713016,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1713016,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1713168" class="layer">#3楼</a><a name="1713168" id="comment_anchor_1713168"></a>
					<span>
						 <span class="comment_date">2009-12-02 17:55</span>
					</span>
				<a id="a_comment_author_1713168" href="http://www.cnblogs.com/hw05/" target="_blank">祈愿</a> <a href="http://msg.cnblogs.com/send/%E7%A5%88%E6%84%BF" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_1713168" class="blog_comment_body">关注</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1713168,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1713168,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1713168_avatar" style="display:none;">http://pic.cnblogs.com/face/u89244.jpg</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1713186" class="layer">#4楼</a><a name="1713186" id="comment_anchor_1713186"></a>
					<span>
						 <span class="comment_date">2009-12-02 18:13</span>
					</span>
				<a id="a_comment_author_1713186" href="http://www.cnblogs.com/vieri122/" target="_blank">vieri122</a> <a href="http://msg.cnblogs.com/send/vieri122" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_1713186" class="blog_comment_body"><a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1713016" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,1713016);">@</a>
姚伟峰<br>期待你的后续文章</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1713186,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1713186,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1713186_avatar" style="display:none;">http://pic.cnblogs.com/face/u47059.jpg</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1713208" class="layer">#5楼</a><a name="1713208" id="comment_anchor_1713208"></a>
					<span>
						 <span class="comment_date">2009-12-02 18:46</span>
					</span>
				<a id="a_comment_author_1713208" href="http://www.cnblogs.com/zqonline/" target="_blank">zqonline</a> <a href="http://msg.cnblogs.com/send/zqonline" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_1713208" class="blog_comment_body">不错，目前还没有搞这种工作！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1713208,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1713208,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1713225" class="layer">#6楼</a><a name="1713225" id="comment_anchor_1713225"></a>
					<span>
						 <span class="comment_date">2009-12-02 18:55</span>
					</span>
				<a id="a_comment_author_1713225" href="http://www.cnblogs.com/viter/" target="_blank">gus.liang</a> <a href="http://msg.cnblogs.com/send/gus.liang" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_1713225" class="blog_comment_body">不错的文章</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1713225,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1713225,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1713225_avatar" style="display:none;">http://pic.cnblogs.com/face/26882/20160422134601.png</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1714205" class="layer">#7楼</a><a name="1714205" id="comment_anchor_1714205"></a>
					<span>
						 <span class="comment_date">2009-12-03 21:06</span>
					</span>
				<a id="ctl00_CommentList_NameLink_6" title="未注册用户" target="_blank">-_-!!</a>
			</h4>
			<p>
				</p><div id="comment_body_1714205" class="blog_comment_body">UINT bfType;  //32位？</div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1714413" class="layer">#8楼</a><a name="1714413" id="comment_anchor_1714413"></a>[<span class="louzhu">楼主</span>]
					<span>
						 <span class="comment_date">2009-12-04 09:11</span>
					</span>
				<a id="a_comment_author_1714413" href="http://www.cnblogs.com/Matrix_Yao/" target="_blank">姚伟峰</a> <a href="http://msg.cnblogs.com/send/%E5%A7%9A%E4%BC%9F%E5%B3%B0" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_1714413" class="blog_comment_body"><a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1714205" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,1714205);">@</a>
-_-!!<br>应为16位，已修改，谢谢你</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1714413,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1714413,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#1844666" class="layer">#9楼</a><a name="1844666" id="comment_anchor_1844666"></a>
					<span>
						 <span class="comment_date">2010-06-10 10:34</span>
					</span>
				<a id="a_comment_author_1844666" href="http://www.cnblogs.com/zhchongyao/" target="_blank">遥望大海，云卷云舒</a> <a href="http://msg.cnblogs.com/send/%E9%81%A5%E6%9C%9B%E5%A4%A7%E6%B5%B7%EF%BC%8C%E4%BA%91%E5%8D%B7%E4%BA%91%E8%88%92" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_1844666" class="blog_comment_body">很有价值，我不得不顶。很强！<br>楼主QQ多少？我的是582965187<br>有空加下。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(1844666,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(1844666,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_1844666_avatar" style="display:none;">http://pic.cnblogs.com/face/u80381.jpg</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#2115503" class="layer">#10楼</a><a name="2115503" id="comment_anchor_2115503"></a><span id="comment-maxId" style="display:none;">2115503</span><span id="comment-maxDate" style="display:none;">2011/6/4 9:21:47</span>
					<span>
						 <span class="comment_date">2011-06-04 09:21</span>
					</span>
				<a id="a_comment_author_2115503" href="http://www.cnblogs.com/dahai/" target="_blank">iThinking</a> <a href="http://msg.cnblogs.com/send/iThinking" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_2115503" class="blog_comment_body">总结得很好！转走了啊，楼主 :)</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2115503,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2115503,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2115503_avatar" style="display:none;">http://pic.cnblogs.com/face/u125371.jpg?id=27174936</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
</div><div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"></div>
<div id="opt_under_post"></div>
<div id="cnblogs_c1" class="c_ad_block"></div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="https://news.cnblogs.com/n/585915/" target="_blank">马斯克：所谓创业，就是嚼着玻璃凝视深渊</a><br> ·  <a href="https://news.cnblogs.com/n/585928/" target="_blank">高通晋升部门主管为新总裁 曾成功打造中国业务</a><br> ·  <a href="https://news.cnblogs.com/n/585911/" target="_blank">短科幻连载之《数据将来时》0~1</a><br> ·  <a href="https://news.cnblogs.com/n/585927/" target="_blank">星巴克上线了微信表情包，你会用吗？</a><br> ·  <a href="https://news.cnblogs.com/n/585926/" target="_blank">周鸿祎荐书：2017年不容错过的十本好书</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="cnblogs_c2" class="c_ad_block"></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/585502/" target="_blank">步入云计算</a><br> ·  <a href="http://kb.cnblogs.com/page/531409/" target="_blank">以操作系统的角度述说线程与进程</a><br> ·  <a href="http://kb.cnblogs.com/page/141729/" target="_blank">软件测试转型之路</a><br> ·  <a href="http://kb.cnblogs.com/page/177402/" target="_blank">门内门外看招聘</a><br> ·  <a href="http://kb.cnblogs.com/page/112506/" target="_blank">大道至简，职场上做人做事做管理</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   
</script>
</div>


</div>
<div id="rightmenu">
	
		
<h3>导航</h3>
<ul>
			<li><a id="blog_nav_sitehome" href="http://www.cnblogs.com/">博客园</a></li>
			<li><a id="blog_nav_myhome" href="http://www.cnblogs.com/Matrix_Yao/">首页</a></li>
			<li><a id="blog_nav_newpost" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
			<li><a id="blog_nav_contact" accesskey="9" rel="nofollow" href="https://msg.cnblogs.com/send/%E5%A7%9A%E4%BC%9F%E5%B3%B0">联系</a></li>
			<li><a id="blog_nav_rss" href="http://www.cnblogs.com/Matrix_Yao/rss">订阅</a><a id="blog_nav_rss_image" href="http://www.cnblogs.com/Matrix_Yao/rss"><img src="./BMP文件格式详解（BMP file format） - 姚伟峰 - 博客园_files/xml.gif" alt="订阅"></a>
			</li><li><a id="blog_nav_admin" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>
		<div id="blog_stats">
<h3>统计</h3>
	<ul>
		<li>随笔 - 27
		</li><li>文章 - 6
		</li><li>评论 - 44
		</li><li>引用 - 0
	</li>
</ul></div>
		
<div class="newsItem">
<h3>公告</h3>
<div id="blog-news"><div id="profile_block">昵称：<a href="https://home.cnblogs.com/u/Matrix_Yao/">姚伟峰</a><br>园龄：<a href="https://home.cnblogs.com/u/Matrix_Yao/" title="入园时间：2008-12-22">9年</a><br>粉丝：<a href="https://home.cnblogs.com/u/Matrix_Yao/followers/">16</a><br>关注：<a href="https://home.cnblogs.com/u/Matrix_Yao/followees/">1</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow(&#39;e0ed16b0-1cf5-dd11-9e4d-001cf0cd104b&#39;)">+加关注</a></div></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

		<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk" style="background-color: rgb(204, 232, 207);">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk" style="background-color: rgb(204, 232, 207);">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk"></div>
</div>
</div>

</div><div id="sidebar_shortcut" class="sidebar-block">
<h3 class="catListTitle">常用链接</h3>
<ul>
<li><a href="http://www.cnblogs.com/Matrix_Yao/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/" title="我的博客的标签列表">我的标签</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">

</div></div><div id="sidebar_toptags" class="sidebar-block">
<h3 class="catListTitle">我的标签</h3>
<div id="MyTag">
<ul>
<li><a href="http://www.cnblogs.com/Matrix_Yao/tag/%E6%99%BA%E5%8A%9B%E9%A2%98/">智力题</a>(5)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/CTR%E9%A2%84%E4%BC%B0/">CTR预估</a>(1)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/Deep%20Learning/">Deep Learning</a>(1)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/object%20detection/">object detection</a>(1)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/RFCN/">RFCN</a>(1)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/%E5%B9%BF%E5%91%8A/">广告</a>(1)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>(1)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a>(1)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%20%E6%A1%86%E6%9E%B6/">深度学习 框架</a>(1)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/%E7%AE%97%E6%B3%95/">算法</a>(1)</li><li><a href="http://www.cnblogs.com/Matrix_Yao/tag/">更多</a></li>
</ul>
</div></div><div id="sidebar_categories">
		<h3>随笔分类</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_0_Link_0" href="http://www.cnblogs.com/Matrix_Yao/category/359267.html">Android</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_1" href="http://www.cnblogs.com/Matrix_Yao/category/212809.html">代码</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_2" href="http://www.cnblogs.com/Matrix_Yao/category/259522.html">工具(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_3" href="http://www.cnblogs.com/Matrix_Yao/category/896755.html">机器学习(7)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_4" href="http://www.cnblogs.com/Matrix_Yao/category/212810.html">算法(4)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_5" href="http://www.cnblogs.com/Matrix_Yao/category/1133598.html">系统(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_6" href="http://www.cnblogs.com/Matrix_Yao/category/732796.html">智力题(5)</a> </li>
			
				</ul>
			
	
		<h3>随笔档案</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_1_Link_0" href="http://www.cnblogs.com/Matrix_Yao/archive/2017/12.html">2017年12月 (2)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_1" href="http://www.cnblogs.com/Matrix_Yao/archive/2017/09.html">2017年9月 (1)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_2" href="http://www.cnblogs.com/Matrix_Yao/archive/2017/01.html">2017年1月 (2)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_3" href="http://www.cnblogs.com/Matrix_Yao/archive/2016/12.html">2016年12月 (1)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_4" href="http://www.cnblogs.com/Matrix_Yao/archive/2016/10.html">2016年10月 (3)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_5" href="http://www.cnblogs.com/Matrix_Yao/archive/2015/09.html">2015年9月 (6)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_6" href="http://www.cnblogs.com/Matrix_Yao/archive/2015/08.html">2015年8月 (1)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_7" href="http://www.cnblogs.com/Matrix_Yao/archive/2010/08.html">2010年8月 (1)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_8" href="http://www.cnblogs.com/Matrix_Yao/archive/2009/12.html">2009年12月 (1)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_9" href="http://www.cnblogs.com/Matrix_Yao/archive/2009/10.html">2009年10月 (2)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_10" href="http://www.cnblogs.com/Matrix_Yao/archive/2009/09.html">2009年9月 (2)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_11" href="http://www.cnblogs.com/Matrix_Yao/archive/2009/08.html">2009年8月 (1)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_12" href="http://www.cnblogs.com/Matrix_Yao/archive/2009/07.html">2009年7月 (1)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_13" href="http://www.cnblogs.com/Matrix_Yao/archive/2009/05.html">2009年5月 (2)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_14" href="http://www.cnblogs.com/Matrix_Yao/archive/2009/04.html">2009年4月 (1)</a> </li>
			
				</ul>
			
	
		<h3>文章分类</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_2_Link_0" href="http://www.cnblogs.com/Matrix_Yao/category/359268.html">Android</a> </li>
			
				<li><a id="CatList_LinkList_2_Link_1" href="http://www.cnblogs.com/Matrix_Yao/category/359269.html">Computer Vision</a> </li>
			
				<li><a id="CatList_LinkList_2_Link_2" href="http://www.cnblogs.com/Matrix_Yao/category/171397.html">程序人生(4)</a> </li>
			
				<li><a id="CatList_LinkList_2_Link_3" href="http://www.cnblogs.com/Matrix_Yao/category/171398.html">方法论</a> </li>
			
				<li><a id="CatList_LinkList_2_Link_4" href="http://www.cnblogs.com/Matrix_Yao/category/171396.html">日积月累(2)</a> </li>
			
				<li><a id="CatList_LinkList_2_Link_5" href="http://www.cnblogs.com/Matrix_Yao/category/359270.html">音频</a> </li>
			
				</ul>
			
	</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap">
<h3 class="catListTitle">最新评论</h3>
<div class="RecentComment" id="RecentComments">
	<div id="RecentCommentsBlock"><ul>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/Matrix_Yao/p/8026832.html#3864303">1. Re:深度学习框架演进史</a></li>
        <li class="recent_comment_body">总结的很好!</li>
        <li class="recent_comment_author">--quarryman</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/Matrix_Yao/p/4793564.html#3262994">2. Re:文本分类实战</a></li>
        <li class="recent_comment_body">厉害！</li>
        <li class="recent_comment_author">--Suzuki.kakeru</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/10/07/1578696.html#3262914">3. Re:寻找模式之旅（1）_字符串匹配 之 确定性方法</a></li>
        <li class="recent_comment_body">赞一个</li>
        <li class="recent_comment_author">--xyzyyj</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/07/28/1532883.html#3203328">4. Re:如何计算整数平方根</a></li>
        <li class="recent_comment_body">二分法那个可能会有整数溢出的情况</li>
        <li class="recent_comment_author">--风笑声动</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/08/26/1554583.html#2605191">5. Re:饱和运算的C/C++优化方案</a></li>
        <li class="recent_comment_body">#define saturation (pix) (((pix)&amp;(~255))?（-(pix））&gt;&gt;16 : (UINT8)(pix)) ？ ： 这玩意在C#中一样会编译为cmp语句。......</li>
        <li class="recent_comment_author">--Imageshop</li>
</ul>
</div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<h3 class="catListTitle">阅读排行榜</h3>
<div class="RecentComment" id="TopViewPosts"> 
	<div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html">1. BMP文件格式详解（BMP file format）(16709)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/p/4773221.html">2. 程序化广告交易中的点击率预估(8777)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/p/4793564.html">3. 文本分类实战(6211)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/07/28/1532883.html">4. 如何计算整数平方根(5130)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/04/19/1439049.html">5. Windows下FFTW库的使用(3852)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<h3 class="catListTitle">评论排行榜</h3>
<div class="RecentComment" id="TopCommentsPosts">
	<div id="TopFeedbackPostsBlock"><ul><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html">1. BMP文件格式详解（BMP file format）(10)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/10/05/1578247.html">2. 临阵磨枪 之 四道有趣的单链表面试题(8)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/10/07/1578696.html">3. 寻找模式之旅（1）_字符串匹配 之 确定性方法(6)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/09/27/1574713.html">4. 最大连续子数列和问题(6)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/08/26/1554583.html">5. 饱和运算的C/C++优化方案(3)</a></li></ul></div>
</div></div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<h3 class="catListTitle">推荐排行榜</h3>
<div class="RecentComment">
	<div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/10/07/1578696.html">1. 寻找模式之旅（1）_字符串匹配 之 确定性方法(3)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/09/27/1574713.html">2. 最大连续子数列和问题(3)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/p/4793564.html">3. 文本分类实战(2)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/12/02/1615295.html">4. BMP文件格式详解（BMP file format）(1)</a></li><li><a href="http://www.cnblogs.com/Matrix_Yao/archive/2009/07/28/1532883.html">5. 如何计算整数平方根(1)</a></li></ul></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
	
</div>			

<p id="footer">
	Powered by: 
	<br>
	
	<a id="Footer1_Hyperlink3" name="Hyperlink1" href="http://www.cnblogs.com/" style="font-family:Verdana;font-size:12px;">博客园</a>
	<br>
	Copyright © 姚伟峰
</p>
	



</body></html>